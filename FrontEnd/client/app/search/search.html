<header class="hero-unit" id="banner">
  <h1>Search</h1>
</header>
<div class="container">
  <br>
  <!--form name="seachForm" ng-submit="this.handleSubmit()">
    <formly-form model="searchModel" fields="searchFields">
      <button type="submit" ng-disabled="searchForm.$invalid">Search</button>
    </formly-form>
  </form-->
</div>

<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <br>
            <p class="text-left" ng-hide="filteredItems < totalItems" translate="app.customers.FILTER"></p>
            <p class="text-left" ng-show="filteredItems < totalItems">Filtered : {{ filteredItems}} of {{totalItems}} total customers</p>

            <input type="text" ng-model="search" ng-change="filter()" placeholder="{{'app.customers.SEARCH_PLACEHOLDER' | translate}}" class="form-control" />

            <br/>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-md-12" ng-show="filteredItems == 0">
            <div class="alert alert-info" role="alert" translate>app.customers.NORESULT</div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12" ng-hide="filteredItems == 0">
            <div class="table-heading"></div>
            <table class="table table-striped table-bordered table-responsive">
              <thead>
                <th>
                  <translate>app.customers.KEY</translate>
                  <a ng-click="sortBy('key');">
                    <i class="glyphicon glyphicon-sort"></i>
                  </a>
                </th>
                <th>
                  <translate>app.customers.DESCRIPTION</translate>
                  <a ng-click="sortBy('description');">
                    <i class="glyphicon glyphicon-sort"></i>
                  </a>
                </th>
                <th>
                  <translate>app.customers.ACTION</translate>
                </th>
              </thead>
              <tbody>

                <tr ng-repeat="customer in filtered = (customers| filter:search | orderBy : predicate :reverse) | startFrom:(currentPage - 1) * entryLimit | limitTo:entryLimit">

                  <td class="col-md-1">{{customer.key}}</td>
                  <td class="col-md-9">{{customer.description}}</td>
                  <td class="col-md-2 text-center">
                    <a class="btn btn-warning text-center" role="button" ui-sref="customer-edit({ id: customer.id })">
                      <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                      <translate>app.customers.ACTION_EDIT</translate>
                    </a>
                    <!--a class="btn btn-danger text-center" role="button" ng-click="delete(customer.key, customer)">
                                            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                            Delete
                                        </a-->
                  </td>

                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12" ng-show="filteredItems > entryLimit">

            <pagination total-items="filteredItems" ng-model="currentPage" max-size="maxPage" class="pagination" boundary-links="true" rotate="false" num-pages="numPages"></pagination>

          </div>
        </div>
